(function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1395:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{include:"Home"}},[n("router-view")],1)],1)},i=[],s={},o=s,c=n("2877"),u=Object(c["a"])(o,r,i,!1,null,null,null),l=u.exports,d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"homeBox"},[n("header",{staticClass:"headerBox"},[n("div",{staticClass:"base"},[n("span",{staticClass:"time"},[e._v(" "+e._s(e.handleTime(e.time,0))+" "),n("em",[e._v(e._s(e.handleTime(e.time,1))+"月")])]),n("h1",{staticClass:"title"},[e._v("知乎日报")])]),n("div",{staticClass:"user"})]),n("div",{staticClass:"bannerBox"},[e.bannerData.length?n("van-swipe",{attrs:{loop:!0,autoplay:3e3}},e._l(e.bannerData,(function(t){return n("van-swipe-item",{key:t.id},[n("router-link",{staticClass:"item",attrs:{to:{path:"/detail/"+t.id}}},[n("img",{attrs:{src:t.image,alt:""}}),n("div",{staticClass:"desc"},[n("p",[e._v(e._s(t.title))]),n("p",[e._v(e._s(t.hint))])])])],1)})),1):e._e()],1),0===e.newsData.length?n("van-skeleton",{attrs:{title:"",row:4}}):n("div",{staticClass:"newsBox"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多数据了"},on:{load:e.handleLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.newsData,(function(t){return n("div",{key:t.date,staticClass:"itemBox"},[t.date!==e.time?n("h4",{staticClass:"time"},[n("span",[e._v(e._s(e._f("filterTime")(t.date)))]),n("i")]):e._e(),n("ul",{staticClass:"content"},e._l(t.stories,(function(t){return n("li",{key:t.id,staticClass:"item"},[n("router-link",{attrs:{to:{path:"/detail/"+t.id}}},[n("div",{staticClass:"con"},[n("h4",[e._v(e._s(t.title))]),n("span",[e._v(e._s(t.hint))])]),n("div",{staticClass:"img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.images[0],expression:"news.images[0]"}],attrs:{alt:""}})])])],1)})),0)])})),0)],1)],1)},p=[],m=(n("99af"),n("ac1f"),n("466d"),n("96cf"),n("1da1"));n("a15b"),n("d3b7"),n("5319");function v(e){e instanceof Date&&(e=e.toLocaleDateString());var t=[];return e.replace(/\d+/g,(function(e){t.push(e.length<2?"0"+e:e)})),t.join("")}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){setTimeout((function(){t()}),e)}))}var b=n("bc3a"),w=n.n(b),g=n("4328"),_=n.n(g);w.a.defaults.baseURL="",w.a.defaults.withCredentials=!0,w.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",w.a.defaults.transformRequest=function(e){return _.a.stringify(e)},w.a.interceptors.request.use((function(e){return e})),w.a.interceptors.response.use((function(e){return e.data}),(function(e){var t=e.response;if(t)switch(parseInt(t.status)){case 400:break;case 401:break;case 403:break;case 404:break}else window.navigator.onLine;return Promise.reject(e)}));var y=w.a;function x(){return y.get("/news/latest")}function k(e){return y.get("/news/".concat(e))}function C(e){return y.get("/news/before/".concat(e))}var j={name:"Home",data:function(){return{time:v(new Date),bannerData:[],newsData:[],time2:"",loading:!1,finished:!1}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:n=t.sent,a=n.date,r=n.stories,i=n.top_stories,e.time=a,e.time2=a,e.bannerData=i,e.newsData.push({date:a,stories:r});case 10:case"end":return t.stop()}}),t)})))()},methods:{handleTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseInt(e.substr(4,2)),a=parseInt(e.substr(6)),r=["","一","二","三","四","五","六","七","八","九","十","十一","十二"];return[a,r[n]][t]},handleLoad:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,h();case 3:return n=e.time2||v(new Date),n=n.match(/^(\d{4})(\d{2})(\d{2})$/),n=v(new Date(new Date("".concat(n[1],"/").concat(n[2],"/").concat(n[3])).getTime()-864e5)),t.next=8,C(n);case 8:a=t.sent,r=a.date,i=a.stories,e.newsData.push({date:r,stories:i}),e.loading=!1,e.time2=n;case 14:case"end":return t.stop()}}),t)})))()}},filters:{filterTime:function(e){var t=e.substr(4,2),n=e.substr(6);return t+"月"+n+"日"}}},O=j,D=(n("fd3d"),Object(c["a"])(O,f,p,!1,null,"11092c41",null)),T=D.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"homeBox"},[n("van-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")]),n("div",{domProps:{innerHTML:e._s(e.body)}})],1)},B=[],R={name:"Detail",data:function(){return{body:""}},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,k(n);case 3:a=t.sent,r=a.body,i=a.css,s=document.getElementById("link"),s||(s=document.createElement("link"),s.id="link",s.href=i[0],s.rel="stylesheet",document.body.appendChild(s)),e.body=r;case 9:case"end":return t.stop()}}),t)})))()},methods:{goBack:function(){this.$router.go(-1)}}},$=R,L=Object(c["a"])($,P,B,!1,null,"69e0a76f",null),S=L.exports;a["a"].use(d["a"]);var E=new d["a"]({mode:"hash",routes:[{path:"/",name:"home",component:T},{path:"/detail",name:"detail",component:S},{path:"/detail/:id",name:"detail",component:S},{path:"*",redirect:"/"}]}),M=E,I=(n("983d"),n("1395"),n("b970")),H=(n("157a"),n("343b"));a["a"].use(I["a"]),a["a"].use(H["a"]),a["a"].config.productionTip=!1,new a["a"]({router:M,render:function(e){return e(l)}}).$mount("#app")},"983d":function(e,t,n){},b2ab:function(e,t,n){},fd3d:function(e,t,n){"use strict";var a=n("b2ab"),r=n.n(a);r.a}});